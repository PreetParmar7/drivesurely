{% extends 'base.html' %}
{% load price_filters %}
{% block content %}

<div class="container mt-5">
  <h2 class="mb-4 text-center">❤️ My Wishlist</h2>

  <div class="row">
    {% for item in items %}
      <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-0 h-100">

          {% if item.car.main_image %}
            <img src="{{ item.car.main_image.url }}"
                 class="card-img-top"
                 height="220">
          {% endif %}

          <div class="card-body">
            <h5>{{ item.car.title }}</h5>

            <p class="text-muted">
              {{ item.car.brand }}
              {% if item.car.engine_capacity %} • {{ item.car.engine_capacity }}{% endif %}
              {% if item.car.transmission %} • {{ item.car.transmission }}{% endif %}
            </p>

            <p class="fw-bold text-primary">₹ {{ item.car.price|indian_price }}</p>
          </div>

          <div class="card-footer bg-white border-0 d-flex gap-2">
            <a href="{% url 'car_detail' item.car.id %}"
               class="btn btn-outline-dark w-100">
              View
            </a>

            <a href="{% url 'remove_from_wishlist' item.car.id %}"
               class="btn btn-outline-danger">
              ❌
            </a>
          </div>

        </div>
      </div>
    {% empty %}
      <p class="text-center">You haven’t saved any cars yet.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
