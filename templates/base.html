{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DriveSurely</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f5f7fa;
      padding-top: 72px;
    }
    .navbar-brand {
      font-weight: 700;
      letter-spacing: 1px;
    }
    footer {
      background: #111;
      color: #aaa;
    }
    .navbar-brand img {
  object-fit: contain;
}

  </style>
</head>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const navbar = document.querySelector('.navbar');

    function handleNavbar() {
      if (window.scrollY > 50) {
        navbar.classList.add('nav-solid');
        navbar.classList.remove('nav-transparent');
      } else {
        navbar.classList.add('nav-transparent');
        navbar.classList.remove('nav-solid');
      }
    }

    handleNavbar();
    window.addEventListener('scroll', handleNavbar);
  });
</script>


<body>
  <nav class="navbar navbar-expand-lg fixed-top nav-transparent">
  <div class="container-fluid px-5 d-flex align-items-center justify-content-between">

    <!-- LEFT : LOGO -->
  <!-- LEFT : LOGO -->
<a class="navbar-brand d-flex align-items-center gap-2 text-white fw-bold" href="/">
  <img src="{% static 'images/logo.png' %}" alt="DriveSurely Logo" height="32">
  <span>DriveSurely</span>
</a>


    <!-- CENTER : MAIN LINKS -->
    <div class="d-none d-lg-flex align-items-center gap-4">

      <a href="{% url 'car_list' %}" class="nav-link">Browse Cars</a>
      <a href="{% url 'contact' %}" class="nav-link">Contact</a>

      {% if user.is_authenticated and user.profile.role == 'customer' %}
        <a href="{% url 'my_enquiries' %}" class="nav-link">My Enquiries</a>
        <a href="{% url 'wishlist' %}" class="nav-link">Wishlist</a>
        <a href="{% url 'compare' %}" class="nav-link">Compare</a>
      {% endif %}

      {% if user.is_authenticated and user.profile.role == 'dealer' %}
        <span class="nav-divider"></span>

        <a href="{% url 'dealer_status' %}" class="nav-link">
          Verification
        </a>

        {% if user.dealer_profile and user.dealer_profile.is_verified %}
          <a href="{% url 'dealer_dashboard' %}" class="nav-link">Dashboard</a>
          <a href="{% url 'dealer_enquiries' %}" class="nav-link">Enquiries</a>
          <a href="{% url 'edit_dealer_profile' %}" class="nav-link">Profile</a>

          <a href="{% url 'add_car' %}" class="btn btn-primary rounded-pill px-4 ms-2">
            + Add Car
          </a>
        {% else %}
          <span class="badge bg-warning text-dark ms-2">
            Verification Pending
          </span>
        {% endif %}
      {% endif %}

    </div>

    <!-- RIGHT : USER -->
    <div class="d-flex align-items-center gap-3">
      {% if user.is_authenticated %}
        <span class="text-white small">Hi, {{ user.username }}</span>
        <a href="{% url 'logout' %}" class="btn btn-danger rounded-pill px-4">
          Logout
        </a>
      {% else %}
        <a href="{% url 'login' %}" class="nav-link">Login</a>
        <a href="{% url 'register' %}" class="btn btn-primary rounded-pill px-4">
          Register
        </a>
      {% endif %}
    </div>

  </div>
</nav>


<!-- MAIN CONTENT -->
 <main >
  {% if not is_home %}
    {% block content %}{% endblock %}
    {% endif %}
 </main>


<footer class="footer-minimal">
  <div class="footer-container">

    <div class="footer-brand">
      <h4>DriveSurely</h4>
      <p>Verified dealers. Trusted cars. Drive with confidence.</p>
    </div>

    <div class="footer-links">
      <a href="{% url 'car_list' %}">Browse Cars</a>
      <a href="{% url 'contact' %}">Contact</a>
      <a href="{% url 'login' %}">Login</a>
      <a href="{% url 'register' %}">Register</a>
    </div>

  </div>

  <div class="footer-bottom">
    Â© 2025 DriveSurely. All rights reserved.

  </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
